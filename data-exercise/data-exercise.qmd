---
title: "Date Exercise"
---

Placeholder file for the future data exercise.
```{r}
#update.packages('dslabs')
library(dslabs) # to import dataset
library(tidyverse) # data aggregation
library(dplyr) # data aggregation? 
data(gapminder)
```

### Help Function
```{r}
help("gapminder")
```

### Data Structure Overview
```{r}
str(gapminder)
```
### Data Summary
```{r}
summary(gapminder)
```
### Class Functions - Object Determination
```{r}
class(gapminder)
```

## Processing Data
### Assign only African countries to a new object/variable.
```{r}
africadata = filter(gapminder, continent == 'Africa')
head(africadata)
```

### Africa Data Structure Overview
```{r}
str(africadata)
```
### Africa Summary
```{r}
summary(africadata)
```
### African Infant Mortality Object
```{r}
infant_survival_rate = africadata %>%
  select(infant_mortality, life_expectancy)
head(infant_survival_rate)
```

### African Infant Mortality Data Structure
```{r}
str(infant_survival_rate)
```

### African Infant Mortality Data Summary
```{r}
summary(infant_survival_rate)
```
### African Mortality Object
```{r}
african_mortality = africadata %>%
  select(population, life_expectancy)
head(african_mortality)
```

### African Mortality Data Structure
```{r}
str(african_mortality)
```

### African Mortality Data Summary
```{r}
summary(african_mortality)
```
## Plotting
### Life Expectancy as a Function of Infant Mortality
```{r}
regression = lm(infant_survival_rate$life_expectancy ~ infant_survival_rate$infant_mortality)
rsq <- function(x, y) summary(lm(infant_survival_rate$life_expectancy ~ infant_survival_rate$infant_mortality))$r.squared
r_square = round(rsq(obs, mod), 3)
# summary(regression)$coefficients - keep to sanity check
coeff = round(summary(regression)$coefficients[2],3)
y_int = round(summary(regression)$coefficients[1],3)
plot(
  infant_survival_rate$infant_mortality,
  infant_survival_rate$life_expectancy,
  main='African Life Expectancy \n Infant Mortality Effect',
  xlab='Infant Mortality',
  ylab='Life Expectancy',
   col='aquamarine', 
   bg='cornflowerblue', 
   pch = 21,
)
# rsq_str = expression(paste("r"^"2:"))
rsq_str = "r2: "
text(175, 75, paste0('y = ', coeff, 'x + ', y_int), cex=0.75)
text(170, 70, paste0(rsq_str, r_square), cex=0.75)
abline(
  lm(
    infant_survival_rate$life_expectancy ~ infant_survival_rate$infant_mortality),
  col='darkblue',
  lwd=1.75)
```

### Life Expectancy as a Function of Population
```{r}
regression = lm(african_mortality$life_expectancy ~ african_mortality$population)
rsq <- function(x, y) summary(lm(african_mortality$life_expectancy ~ african_mortality$population))$r.squared
r_square = round(rsq(obs, mod), 3)
# summary(regression)$coefficients - keep to sanity check
coeff = round(summary(regression)$coefficients[2],9)
y_int = round(summary(regression)$coefficients[1],3)
plot(
  african_mortality$population,
  african_mortality$life_expectancy,
  main='African Life Expectancy \n Population Effect',
  xlab='Population',
  ylab='Life Expectancy',
  col='aquamarine', 
  bg='cornflowerblue', 
  pch = 21,
)
# rsq_str = expression(paste("r"^"2:"))
rsq_str = "r2: "
text(155000000, 75, paste0('y = ', coeff, 'x + ', y_int), cex=0.75)
text(155000000, 70, paste0(rsq_str, r_square), cex=0.75)
abline(
lm(
  african_mortality$life_expectancy ~ african_mortality$population),
col='darkblue',
lwd=1.75)
```